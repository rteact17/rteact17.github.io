<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Form</title>
    <style>
        .dynamic-form {
            display: flex;
            flex-direction: column;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
        }

        .form-section {
            margin-bottom: 15px;
            display: flex;
            flex-direction: column;
            align-items: flex-start; /* Align items to the start (left) */
        }

        .form-section > label,
        .question-section > label {
            margin-bottom: 5px;
            font-weight: bold;
            text-align: left; /* Ensure text inside label is left-aligned */
            width: 100%; /* Make label take full width to align left properly */
            display: block; /* Keep display block for full width */
            color: black; /* Set label text color to black */
        }

        .form-section > label::after,
        .question-section > label::after {
            content: " *";
            color: red;
        }

        .form-section > .link-optional::after,
        .question-section > .link-optional::after {
            content: "";
            color: red;
        }

        .form-section input[type="text"],
        .form-section input[type="email"],
        .form-section input[type="tel"],
        .form-section input[type="url"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
            margin-bottom: 5px;
        }

        .question-section {
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        .options {
            display: flex;
            flex-direction: column;
        }

        .option {
            margin-bottom: 5px;
            display: flex;
            align-items: center;
        }

        .option label {
            font-weight: normal;
            margin-left: 5px;
            color: black; /* Ensure question option labels are also black */
        }

        .submit-button {
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            background-color: #5cb85c;
            color: white;
            cursor: pointer;
            font-size: 16px;
        }

        .submit-button:hover {
            background-color: #4cae4c;
        }

        .success-message {
            text-align: center;
            padding: 20px;
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
            border-radius: 5px;
            margin: 20px auto;
            max-width: 600px;
        }

        .hidden {
            display: none;
        }
    </style>
    
</head>

<body>
    <div id="form-container">
    <form class="dynamic-form" onsubmit="handleSubmit(event)" id="dynamicForm">
        <div class="form-section">
            <label for="firstname">First Name:</label>
            <input type="text" id="firstname" name="firstname" required>
        </div>

        <div class="form-section">
            <label for="lastname">Last Name:</label>
            <input type="text" id="lastname" name="lastname" required>
        </div>

        <div class="form-section">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
        </div>

        <div class="form-section">
            <label for="phoneNumber">Phone Number:</label>
            <input type="tel" id="phoneNumber" name="phoneNumber" pattern="[0-9]{10}"
                title="Please enter a 10-digit phone number" required>
        </div>

        <div class="form-section">
            <label class="link-optional" for="link">Link:</label>
            <input type="url" id="link" name="link">
        </div>

        <div class="form-section question-section">
            <label>I enjoy solving maths problems.</label>
            <div class="options">
                <div class="option">
                    <input type="radio" id="question1-option1" name="question1" value="Option 1" required>
                    <label for="question1-option1">Never, I hate maths</label>
                </div>
                <div class="option">
                    <input type="radio" id="question1-option2" name="question1" value="Option 2" required>
                    <label for="question1-option2">I avoid if possible</label>
                </div>
                <div class="option">
                    <input type="radio" id="question1-option3" name="question1" value="Option 3" required>
                    <label for="question1-option3">Sometime enjoy</label>
                </div>
                <div class="option">
                    <input type="radio" id="question1-option4" name="question1" value="Option 4" required>
                    <label for="question1-option4">Always ready to solve them</label>
                </div>
            </div>
        </div>

        <div class="form-section question-section">
            <label>I enjoy travelling job.</label>
            <div class="options">
                <div class="option">
                    <input type="radio" id="question2-option1" name="question2" value="Option 1" required>
                    <label for="question2-option1">Never</label>
                </div>
                <div class="option">
                    <input type="radio" id="question2-option2" name="question2" value="Option 2" required>
                    <label for="question2-option2">If required I can bear it</label>
                </div>
                <div class="option">
                    <input type="radio" id="question2-option3" name="question2" value="Option 3" required>
                    <label for="question2-option3">Sometimes its fun</label>
                </div>
                <div class="option">
                    <input type="radio" id="question2-option4" name="question2" value="Option 4" required>
                    <label for="question2-option4">Yes I love travelling job</label>
                </div>
            </div>
        </div>

        <div class="form-section question-section">
            <label>I like indoor office job.</label>
            <div class="options">
                <div class="option">
                    <input type="radio" id="question3-option1" name="question3" value="Option 1" required>
                    <label for="question3-option1">I would never prefer it</label>
                </div>
                <div class="option">
                    <input type="radio" id="question3-option2" name="question3" value="Option 2" required>
                    <label for="question3-option2">Sometimes indoor is bearable</label>
                </div>
                <div class="option">
                    <input type="radio" id="question3-option3" name="question3" value="Option 3" required>
                    <label for="question3-option3">Yes it is comfortable</label>
                </div>
                <div class="option">
                    <input type="radio" id="question3-option4" name="question3" value="Option 4" required>
                    <label for="question3-option4">Yes I want indoor job only</label>
                </div>
            </div>
        </div>

        <div class="form-section question-section">
            <label>I enjoy role plays.</label>
            <div class="options">
                <div class="option">
                    <input type="radio" id="question4-option1" name="question4" value="Option 1" required>
                    <label for="question4-option1">No I like to be myself</label>
                </div>
                <div class="option">
                    <input type="radio" id="question4-option2" name="question4" value="Option 2" required>
                    <label for="question4-option2">If at all required I can say yes</label>
                </div>
                <div class="option">
                    <input type="radio" id="question4-option3" name="question4" value="Option 3" required>
                    <label for="question4-option3">For fun sometimes its ok</label>
                </div>
                <div class="option">
                    <input type="radio" id="question4-option4" name="question4" value="Option 4" required>
                    <label for="question4-option4">Yes its great being someone you are not for sometimes</label>
                </div>
            </div>
        </div>

        <div class="form-section question-section">
            <label>I enjoy discussions</label>
            <div class="options">
                <div class="option">
                    <input type="radio" id="question5-option1" name="question5" value="Option 1" required>
                    <label for="question5-option1">I avoid, there is never an outcome</label>
                </div>
                <div class="option">
                    <input type="radio" id="question5-option2" name="question5" value="Option 2" required>
                    <label for="question5-option2">If I am passionate about the topic I get into discussions</label>
                </div>
                <div class="option">
                    <input type="radio" id="question5-option3" name="question5" value="Option 3" required>
                    <label for="question5-option3">Sometimes yes , putting forward my view is important to me</label>
                </div>
                <div class="option">
                    <input type="radio" id="question5-option4" name="question5" value="Option 4" required>
                    <label for="question5-option4">Always, I am a well read person I must make use of my
                        knowledge</label>
                </div>
            </div>
        </div>

        <div class="form-section question-section">
            <label>I like taking responsibility and I lead.</label>
            <div class="options">
                <div class="option">
                    <input type="radio" id="question6-option1" name="question6" value="Option 1" required>
                    <label for="question6-option1">Its takes too much of time, I can finish off faster when its only for
                        myself</label>
                </div>
                <div class="option">
                    <input type="radio" id="question6-option2" name="question6" value="Option 2" required>
                    <label for="question6-option2">Not really interested but if no one is taking lead I start
                        off</label>
                </div>
                <div class="option">
                    <input type="radio" id="question6-option3" name="question6" value="Option 3" required>
                    <label for="question6-option3">Yes I like to take lead</label>
                </div>
                <div class="option">
                    <input type="radio" id="question6-option4" name="question6" value="Option 4" required>
                    <label for="question6-option4">Always, that's how work is done.</label>
                </div>
            </div>
        </div>

        <button type="submit" class="submit-button">Submit</button>
    </form>
    <div id="success-message" class="success-message hidden">
        
    </div>
</div>

</body>
<script>
    var res = [];
    const formContainer = document.getElementById('form-container');
    const dynamicForm = document.getElementById('dynamicForm');
    const successMessage = document.getElementById('success-message');

    function handleSubmit(event) {
        event.preventDefault();
        const formData = new FormData(event.target);
        const data = {};
        formData.forEach((value, key) => {
            data[key] = value;
        });
        let ress = ['Analytical','Practical', 'Customary', 'Creative', 'Social', 'Entrepreneurial'];
        for (let i = 1; i <= 6; i++) {
            let ans = data['question' + i]?.split(' ')?.[1];
            res.push({ a: ress[i-1], b: 25 * (ans - 1) });
        }
           
        res.sort((a, b) => { return a.b < b.b ? 1 : a.b > b.b ? -1 : 0 });
        console.log(data);
        console.log('res', res)
        dynamicForm.classList.add('hidden');
        successMessage.innerHTML = `Thank you for taking the quick survey! Based on our initial analysis, you have strong <b>${res[0].a}</b> skills, with <b>${res[1].a}</b> as your secondary skill.
        <p>For a deeper insight into your strengths and areas for growth, we highly recommend taking this <b><a href='https://www.classmarker.com/online-test/start/?quiz=7aj642bc9d7c666f'>detailed skill assessment<a></b>. It will provide you with a comprehensive analysis and personalized recommendations to enhance your expertise!<p>`
        successMessage.classList.remove('hidden');
    }
</script>

</html>
